{"ast":null,"code":"var _jsxFileName = \"/Users/dylankohn/coding_projects/constructionCRM/inventory-frontend/src/tools/AreaCalculator.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from \"react\";\nimport { useNavigate, useLocation } from \"react-router-dom\";\nimport { BASE_URL } from \"../config\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function AreaCalculator({\n  user,\n  setUser\n}) {\n  _s();\n  const navigate = useNavigate();\n  const location = useLocation();\n  const mapRef = useRef(null);\n  const googleMapRef = useRef(null);\n  const drawingManagerRef = useRef(null);\n  const currentShapeRef = useRef(null);\n  const shapeTypeRef = useRef(null);\n  const searchInputRef = useRef(null);\n  const autocompleteRef = useRef(null);\n  const [area, setArea] = useState(0);\n  const [unit, setUnit] = useState(\"sqft\");\n  const [isLoaded, setIsLoaded] = useState(false);\n  const [userLocation, setUserLocation] = useState(null);\n  const [searchValue, setSearchValue] = useState(\"\");\n\n  // Save functionality\n  const [customers, setCustomers] = useState([]);\n  const [jobs, setJobs] = useState([]);\n  const [selectedCustomer, setSelectedCustomer] = useState(\"\");\n  const [selectedJob, setSelectedJob] = useState(\"\");\n  const [areaName, setAreaName] = useState(\"\");\n  const [showSaveForm, setShowSaveForm] = useState(false);\n  const [saveHover, setSaveHover] = useState(false);\n\n  // For loading saved shapes\n  const [loadedAreaData, setLoadedAreaData] = useState(null);\n  const [savedAreas, setSavedAreas] = useState([]);\n  const [selectedSavedArea, setSelectedSavedArea] = useState(\"\");\n  const [loadAreaHover, setLoadAreaHover] = useState(false);\n  const [clearSavedAreaHover, setClearSavedAreaHover] = useState(false);\n  useEffect(() => {\n    var _location$state;\n    // Get user's current location\n    if (navigator.geolocation) {\n      navigator.geolocation.getCurrentPosition(position => {\n        setUserLocation({\n          lat: position.coords.latitude,\n          lng: position.coords.longitude\n        });\n      }, error => {\n        console.log(\"Geolocation error:\", error.message);\n        // Fallback to default location (New York)\n        setUserLocation({\n          lat: 40.7128,\n          lng: -74.0060\n        });\n      });\n    } else {\n      // Fallback if geolocation not supported\n      setUserLocation({\n        lat: 40.7128,\n        lng: -74.0060\n      });\n    }\n\n    // Load Google Maps API\n    const loadGoogleMaps = () => {\n      if (window.google && window.google.maps) {\n        setIsLoaded(true);\n        return;\n      }\n      const apiKey = process.env.REACT_APP_GOOGLE_MAPS_API_KEY;\n      if (!apiKey) {\n        console.error(\"Google Maps API key not found. Please set REACT_APP_GOOGLE_MAPS_API_KEY in your .env.local file\");\n        return;\n      }\n      const script = document.createElement(\"script\");\n      script.src = `https://maps.googleapis.com/maps/api/js?key=${apiKey}&libraries=drawing,geometry,places`;\n      script.async = true;\n      script.defer = true;\n      script.onload = () => setIsLoaded(true);\n      script.onerror = () => {\n        console.error(\"Failed to load Google Maps API. Please check your API key.\");\n      };\n      document.head.appendChild(script);\n    };\n    loadGoogleMaps();\n\n    // Fetch customers\n    const fetchCustomers = async () => {\n      try {\n        const res = await fetch(`${BASE_URL}/customers/${user.id}`);\n        if (res.ok) {\n          const data = await res.json();\n          setCustomers(data);\n        }\n      } catch (err) {\n        console.error(\"Error fetching customers:\", err);\n      }\n    };\n\n    // Fetch all saved areas for the user\n    const fetchSavedAreas = async () => {\n      try {\n        const res = await fetch(`${BASE_URL}/areas/user/${user.id}`);\n        if (res.ok) {\n          const data = await res.json();\n          setSavedAreas(data);\n        }\n      } catch (err) {\n        console.error(\"Error fetching saved areas:\", err);\n      }\n    };\n    fetchCustomers();\n    fetchSavedAreas();\n\n    // Check if we're loading a saved area\n    if ((_location$state = location.state) !== null && _location$state !== void 0 && _location$state.areaData) {\n      setLoadedAreaData(location.state.areaData);\n      setUnit(location.state.areaData.unit);\n      setArea(parseFloat(location.state.areaData.area_value) / getConversionFactor(location.state.areaData.unit));\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  useEffect(() => {\n    var _loadedAreaData$shape;\n    if (!isLoaded || !mapRef.current || !userLocation) return;\n\n    // Initialize map with user's location (or saved shape center if loading)\n    const mapCenter = (loadedAreaData === null || loadedAreaData === void 0 ? void 0 : (_loadedAreaData$shape = loadedAreaData.shape_data) === null || _loadedAreaData$shape === void 0 ? void 0 : _loadedAreaData$shape.center) || userLocation;\n    const map = new window.google.maps.Map(mapRef.current, {\n      center: mapCenter,\n      zoom: loadedAreaData ? 18 : 18,\n      mapTypeId: \"satellite\",\n      mapTypeControl: true,\n      streetViewControl: false,\n      fullscreenControl: true\n    });\n    googleMapRef.current = map;\n\n    // Add a marker at user's location (only if not loading a saved shape)\n    if (!loadedAreaData) {\n      new window.google.maps.Marker({\n        position: userLocation,\n        map: map,\n        title: \"Your Location\",\n        icon: {\n          path: window.google.maps.SymbolPath.CIRCLE,\n          scale: 8,\n          fillColor: \"#4DA3A2\",\n          fillOpacity: 1,\n          strokeColor: \"#ffffff\",\n          strokeWeight: 2\n        }\n      });\n    }\n\n    // Initialize drawing manager\n    const drawingManager = new window.google.maps.drawing.DrawingManager({\n      drawingMode: window.google.maps.drawing.OverlayType.POLYGON,\n      drawingControl: true,\n      drawingControlOptions: {\n        position: window.google.maps.ControlPosition.TOP_CENTER,\n        drawingModes: [window.google.maps.drawing.OverlayType.POLYGON, window.google.maps.drawing.OverlayType.RECTANGLE, window.google.maps.drawing.OverlayType.CIRCLE]\n      },\n      polygonOptions: {\n        fillColor: \"#4DA3A2\",\n        fillOpacity: 0.3,\n        strokeWeight: 2,\n        strokeColor: \"#234848\",\n        clickable: true,\n        editable: true,\n        zIndex: 1\n      },\n      rectangleOptions: {\n        fillColor: \"#4DA3A2\",\n        fillOpacity: 0.3,\n        strokeWeight: 2,\n        strokeColor: \"#234848\",\n        clickable: true,\n        editable: true,\n        zIndex: 1\n      },\n      circleOptions: {\n        fillColor: \"#4DA3A2\",\n        fillOpacity: 0.3,\n        strokeWeight: 2,\n        strokeColor: \"#234848\",\n        clickable: true,\n        editable: true,\n        zIndex: 1\n      }\n    });\n    drawingManager.setMap(map);\n    drawingManagerRef.current = drawingManager;\n\n    // Listen for shape completion\n    window.google.maps.event.addListener(drawingManager, \"overlaycomplete\", event => {\n      // Remove previous shape\n      if (currentShapeRef.current) {\n        currentShapeRef.current.setMap(null);\n      }\n      currentShapeRef.current = event.overlay;\n      calculateArea(event.overlay, event.type);\n\n      // Add listeners for editing\n      if (event.type === \"polygon\") {\n        window.google.maps.event.addListener(event.overlay.getPath(), \"set_at\", () => calculateArea(event.overlay, event.type));\n        window.google.maps.event.addListener(event.overlay.getPath(), \"insert_at\", () => calculateArea(event.overlay, event.type));\n      } else if (event.type === \"rectangle\") {\n        window.google.maps.event.addListener(event.overlay, \"bounds_changed\", () => calculateArea(event.overlay, event.type));\n      } else if (event.type === \"circle\") {\n        window.google.maps.event.addListener(event.overlay, \"radius_changed\", () => calculateArea(event.overlay, event.type));\n        window.google.maps.event.addListener(event.overlay, \"center_changed\", () => calculateArea(event.overlay, event.type));\n      }\n\n      // Switch to hand mode after drawing\n      drawingManager.setDrawingMode(null);\n    });\n\n    // If loading a saved shape, recreate it\n    if (loadedAreaData !== null && loadedAreaData !== void 0 && loadedAreaData.shape_data) {\n      recreateSavedShape(map, loadedAreaData.shape_data);\n    }\n\n    // Initialize Places Autocomplete\n    if (searchInputRef.current && !autocompleteRef.current) {\n      const autocomplete = new window.google.maps.places.Autocomplete(searchInputRef.current, {\n        fields: [\"geometry\", \"formatted_address\", \"name\"]\n      });\n      autocomplete.addListener(\"place_changed\", () => {\n        const place = autocomplete.getPlace();\n        if (!place.geometry || !place.geometry.location) {\n          console.log(\"No details available for input: '\" + place.name + \"'\");\n          return;\n        }\n\n        // Center map on the selected location\n        map.setCenter(place.geometry.location);\n        map.setZoom(18);\n\n        // Add a marker at the searched location\n        new window.google.maps.Marker({\n          position: place.geometry.location,\n          map: map,\n          title: place.formatted_address || place.name,\n          animation: window.google.maps.Animation.DROP\n        });\n      });\n      autocompleteRef.current = autocomplete;\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [isLoaded, userLocation, loadedAreaData]);\n  const getConversionFactor = targetUnit => {\n    switch (targetUnit) {\n      case \"sqft\":\n        return 10.7639;\n      case \"sqm\":\n        return 1;\n      case \"acres\":\n        return 0.000247105;\n      case \"hectares\":\n        return 0.0001;\n      default:\n        return 1;\n    }\n  };\n  const getShapeData = (shape, type) => {\n    const data = {\n      type,\n      center: null\n    };\n    if (type === \"polygon\") {\n      const path = shape.getPath();\n      data.path = [];\n      for (let i = 0; i < path.getLength(); i++) {\n        const point = path.getAt(i);\n        data.path.push({\n          lat: point.lat(),\n          lng: point.lng()\n        });\n      }\n      // Calculate center\n      if (data.path.length > 0) {\n        const avgLat = data.path.reduce((sum, p) => sum + p.lat, 0) / data.path.length;\n        const avgLng = data.path.reduce((sum, p) => sum + p.lng, 0) / data.path.length;\n        data.center = {\n          lat: avgLat,\n          lng: avgLng\n        };\n      }\n    } else if (type === \"rectangle\") {\n      const bounds = shape.getBounds();\n      data.bounds = {\n        north: bounds.getNorthEast().lat(),\n        south: bounds.getSouthWest().lat(),\n        east: bounds.getNorthEast().lng(),\n        west: bounds.getSouthWest().lng()\n      };\n      data.center = {\n        lat: (data.bounds.north + data.bounds.south) / 2,\n        lng: (data.bounds.east + data.bounds.west) / 2\n      };\n    } else if (type === \"circle\") {\n      const center = shape.getCenter();\n      data.center = {\n        lat: center.lat(),\n        lng: center.lng()\n      };\n      data.radius = shape.getRadius();\n    }\n    return data;\n  };\n  const recreateSavedShape = (map, shapeData) => {\n    let shape = null;\n    if (shapeData.type === \"polygon\" && shapeData.path) {\n      shape = new window.google.maps.Polygon({\n        paths: shapeData.path,\n        fillColor: \"#4DA3A2\",\n        fillOpacity: 0.3,\n        strokeWeight: 2,\n        strokeColor: \"#234848\",\n        editable: true,\n        map: map\n      });\n      currentShapeRef.current = shape;\n      shapeTypeRef.current = \"polygon\";\n\n      // Add listeners for editing\n      window.google.maps.event.addListener(shape.getPath(), \"set_at\", () => calculateArea(shape, \"polygon\"));\n      window.google.maps.event.addListener(shape.getPath(), \"insert_at\", () => calculateArea(shape, \"polygon\"));\n      calculateArea(shape, \"polygon\");\n    } else if (shapeData.type === \"rectangle\" && shapeData.bounds) {\n      shape = new window.google.maps.Rectangle({\n        bounds: shapeData.bounds,\n        fillColor: \"#4DA3A2\",\n        fillOpacity: 0.3,\n        strokeWeight: 2,\n        strokeColor: \"#234848\",\n        editable: true,\n        map: map\n      });\n      currentShapeRef.current = shape;\n      shapeTypeRef.current = \"rectangle\";\n      window.google.maps.event.addListener(shape, \"bounds_changed\", () => calculateArea(shape, \"rectangle\"));\n      calculateArea(shape, \"rectangle\");\n    } else if (shapeData.type === \"circle\" && shapeData.center && shapeData.radius) {\n      shape = new window.google.maps.Circle({\n        center: shapeData.center,\n        radius: shapeData.radius,\n        fillColor: \"#4DA3A2\",\n        fillOpacity: 0.3,\n        strokeWeight: 2,\n        strokeColor: \"#234848\",\n        editable: true,\n        map: map\n      });\n      currentShapeRef.current = shape;\n      shapeTypeRef.current = \"circle\";\n      window.google.maps.event.addListener(shape, \"radius_changed\", () => calculateArea(shape, \"circle\"));\n      window.google.maps.event.addListener(shape, \"center_changed\", () => calculateArea(shape, \"circle\"));\n      calculateArea(shape, \"circle\");\n    }\n  };\n  const calculateArea = (shape, type) => {\n    let areaInSquareMeters = 0;\n    shapeTypeRef.current = type;\n    if (type === \"polygon\") {\n      areaInSquareMeters = window.google.maps.geometry.spherical.computeArea(shape.getPath());\n    } else if (type === \"rectangle\") {\n      const bounds = shape.getBounds();\n      const ne = bounds.getNorthEast();\n      const sw = bounds.getSouthWest();\n      const nw = new window.google.maps.LatLng(ne.lat(), sw.lng());\n      const se = new window.google.maps.LatLng(sw.lat(), ne.lng());\n      const path = [nw, ne, se, sw];\n      areaInSquareMeters = window.google.maps.geometry.spherical.computeArea(path);\n    } else if (type === \"circle\") {\n      const radius = shape.getRadius();\n      areaInSquareMeters = Math.PI * radius * radius;\n    }\n    setArea(areaInSquareMeters);\n  };\n  const convertArea = areaInSquareMeters => {\n    switch (unit) {\n      case \"sqft\":\n        return (areaInSquareMeters * 10.7639).toFixed(2);\n      case \"sqm\":\n        return areaInSquareMeters.toFixed(2);\n      case \"acres\":\n        return (areaInSquareMeters * 0.000247105).toFixed(4);\n      case \"hectares\":\n        return (areaInSquareMeters * 0.0001).toFixed(4);\n      default:\n        return areaInSquareMeters.toFixed(2);\n    }\n  };\n  const clearShape = () => {\n    if (currentShapeRef.current) {\n      currentShapeRef.current.setMap(null);\n      currentShapeRef.current = null;\n      setArea(0);\n    }\n  };\n  const handleLoadSavedArea = () => {\n    if (!selectedSavedArea) {\n      alert(\"Please select an area to load\");\n      return;\n    }\n    const areaToLoad = savedAreas.find(a => a.id === parseInt(selectedSavedArea));\n    if (!areaToLoad) return;\n\n    // Clear existing shape\n    clearShape();\n\n    // Parse shape data\n    const shapeData = typeof areaToLoad.shape_data === 'string' ? JSON.parse(areaToLoad.shape_data) : areaToLoad.shape_data;\n\n    // Set area and unit\n    setArea(parseFloat(areaToLoad.area_value) / getConversionFactor(areaToLoad.unit));\n    setUnit(areaToLoad.unit);\n\n    // Center map on the saved area\n    if (googleMapRef.current && shapeData.center) {\n      googleMapRef.current.setCenter(shapeData.center);\n      googleMapRef.current.setZoom(18);\n    }\n\n    // Recreate the shape\n    if (googleMapRef.current) {\n      recreateSavedShape(googleMapRef.current, shapeData);\n    }\n  };\n  const handleCustomerChange = async customerId => {\n    setSelectedCustomer(customerId);\n    setSelectedJob(\"\");\n    setJobs([]);\n    if (customerId) {\n      try {\n        const res = await fetch(`${BASE_URL}/jobs/customer/${customerId}/${user.id}`);\n        if (res.ok) {\n          const data = await res.json();\n          setJobs(data);\n        }\n      } catch (err) {\n        console.error(\"Error fetching jobs:\", err);\n      }\n    }\n  };\n  const handleSaveArea = async () => {\n    if (!selectedJob || !areaName.trim() || area === 0) {\n      alert(\"Please select a job, enter an area name, and calculate an area first.\");\n      return;\n    }\n    if (!currentShapeRef.current || !shapeTypeRef.current) {\n      alert(\"No shape drawn. Please draw a shape first.\");\n      return;\n    }\n    try {\n      const shapeData = getShapeData(currentShapeRef.current, shapeTypeRef.current);\n      const res = await fetch(`${BASE_URL}/areas`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          user_id: user.id,\n          job_id: selectedJob,\n          customer_id: selectedCustomer,\n          area_name: areaName,\n          area_value: convertArea(area),\n          unit: unit,\n          shape_data: JSON.stringify(shapeData)\n        })\n      });\n      if (res.ok) {\n        // Navigate to the job details page\n        navigate(`/customer/${selectedCustomer}/job/${selectedJob}`);\n      } else {\n        const errorData = await res.json();\n        alert(\"Failed to save area: \" + (errorData.error || \"Unknown error\"));\n      }\n    } catch (err) {\n      console.error(\"Error saving area:\", err);\n      alert(\"Error saving area: \" + err.message);\n    }\n  };\n  const getUnitLabel = () => {\n    switch (unit) {\n      case \"sqft\":\n        return \"sq ft\";\n      case \"sqm\":\n        return \"sq m\";\n      case \"acres\":\n        return \"acres\";\n      case \"hectares\":\n        return \"hectares\";\n      default:\n        return \"sq m\";\n    }\n  };\n  const styles = {\n    page: {\n      minHeight: \"100vh\",\n      background: \"#f9fafb\",\n      fontFamily: \"'DM Sans', sans-serif\"\n    },\n    header: {\n      background: \"#234848\",\n      padding: \"16px 32px\",\n      display: \"flex\",\n      justifyContent: \"space-between\",\n      alignItems: \"center\",\n      boxShadow: \"0 2px 4px rgba(0,0,0,0.1)\"\n    },\n    headerLeft: {\n      display: \"flex\",\n      alignItems: \"center\",\n      gap: 16\n    },\n    backButton: {\n      appearance: \"none\",\n      borderWidth: 1,\n      borderStyle: \"solid\",\n      borderColor: \"#99CFCE\",\n      background: \"transparent\",\n      padding: \"8px 16px\",\n      borderRadius: 6,\n      cursor: \"pointer\",\n      fontSize: 14,\n      color: \"#99CFCE\",\n      transition: \"all .15s\"\n    },\n    backButtonHover: {\n      background: \"#99CFCE\",\n      color: \"#0F1F1F\"\n    },\n    title: {\n      margin: 0,\n      fontSize: 24,\n      fontWeight: 600,\n      color: \"#ffffff\"\n    },\n    logoutBtn: {\n      appearance: \"none\",\n      borderWidth: 1,\n      borderStyle: \"solid\",\n      borderColor: \"#99CFCE\",\n      background: \"transparent\",\n      padding: \"8px 12px\",\n      borderRadius: 6,\n      cursor: \"pointer\",\n      fontSize: 14,\n      color: \"#99CFCE\",\n      transition: \"all .15s\"\n    },\n    logoutBtnHover: {\n      background: \"#99CFCE\",\n      color: \"#0F1F1F\"\n    },\n    content: {\n      maxWidth: 1400,\n      margin: \"0 auto\",\n      padding: \"24px 32px\",\n      height: \"calc(100vh - 120px)\",\n      // Full height minus header\n      display: \"flex\",\n      flexDirection: \"column\"\n    },\n    controls: {\n      background: \"#ffffff\",\n      padding: 20,\n      borderRadius: 12,\n      boxShadow: \"0 1px 3px rgba(0,0,0,0.1)\"\n    },\n    formGroup: {\n      display: \"flex\",\n      flexDirection: \"column\",\n      gap: 8\n    },\n    label: {\n      fontSize: 14,\n      fontWeight: 600,\n      color: \"#234848\"\n    },\n    select: {\n      width: \"100%\",\n      padding: \"10px 12px\",\n      fontSize: 14,\n      borderWidth: 2,\n      borderStyle: \"solid\",\n      borderColor: \"#99CFCE\",\n      borderRadius: 6,\n      outline: \"none\",\n      transition: \"border-color .15s\",\n      background: \"#ffffff\",\n      color: \"#0F1F1F\",\n      boxSizing: \"border-box\"\n    },\n    button: {\n      appearance: \"none\",\n      borderWidth: 2,\n      borderStyle: \"solid\",\n      borderColor: \"#4DA3A2\",\n      background: \"#4DA3A2\",\n      padding: \"10px 20px\",\n      borderRadius: 6,\n      cursor: \"pointer\",\n      fontSize: 14,\n      fontWeight: 600,\n      color: \"#ffffff\",\n      transition: \"all .15s ease\"\n    },\n    buttonHover: {\n      background: \"#3d8a89\"\n    },\n    clearButton: {\n      appearance: \"none\",\n      borderWidth: 2,\n      borderStyle: \"solid\",\n      borderColor: \"#99CFCE\",\n      background: \"#ffffff\",\n      padding: \"10px 20px\",\n      borderRadius: 6,\n      cursor: \"pointer\",\n      fontSize: 14,\n      fontWeight: 600,\n      color: \"#0F1F1F\",\n      transition: \"all .15s ease\"\n    },\n    clearButtonHover: {\n      background: \"#f3f4f6\"\n    },\n    resultBox: {\n      background: \"#ffffff\",\n      padding: 24,\n      borderRadius: 12,\n      boxShadow: \"0 1px 3px rgba(0,0,0,0.1)\",\n      textAlign: \"center\",\n      flex: 1,\n      display: \"flex\",\n      flexDirection: \"column\",\n      justifyContent: \"center\"\n    },\n    resultLabel: {\n      fontSize: 14,\n      color: \"#234848\",\n      marginBottom: 16,\n      fontWeight: 600,\n      textTransform: \"uppercase\",\n      letterSpacing: 0.5\n    },\n    resultValue: {\n      fontSize: 36,\n      fontWeight: 700,\n      color: \"#4DA3A2\",\n      marginBottom: 8,\n      lineHeight: 1\n    },\n    resultUnit: {\n      fontSize: 18,\n      color: \"#0F1F1F\",\n      fontWeight: 500\n    },\n    emptyResult: {\n      background: \"#ffffff\",\n      padding: 20,\n      borderRadius: 12,\n      boxShadow: \"0 1px 3px rgba(0,0,0,0.1)\",\n      textAlign: \"center\",\n      flex: 1,\n      display: \"flex\",\n      flexDirection: \"column\",\n      justifyContent: \"center\",\n      color: \"#6b7280\",\n      fontSize: 13\n    },\n    mapWrapper: {\n      display: \"flex\",\n      gap: 24,\n      flex: 1,\n      minHeight: 0 // Important for flexbox\n    },\n    mapContainer: {\n      flex: \"0 0 75%\",\n      background: \"#ffffff\",\n      borderRadius: 12,\n      overflow: \"hidden\",\n      boxShadow: \"0 1px 3px rgba(0,0,0,0.1)\",\n      minHeight: 0\n    },\n    sidePanel: {\n      flex: \"0 0 calc(25% - 24px)\",\n      display: \"flex\",\n      flexDirection: \"column\",\n      gap: 16,\n      overflow: \"auto\"\n    },\n    saveButton: {\n      appearance: \"none\",\n      borderWidth: 2,\n      borderStyle: \"solid\",\n      borderColor: \"#4DA3A2\",\n      background: \"#4DA3A2\",\n      padding: \"10px 20px\",\n      borderRadius: 6,\n      cursor: \"pointer\",\n      fontSize: 14,\n      fontWeight: 600,\n      color: \"#ffffff\",\n      transition: \"all .15s ease\",\n      width: \"100%\"\n    },\n    saveButtonHover: {\n      background: \"#3d8a89\"\n    },\n    saveForm: {\n      background: \"#ffffff\",\n      padding: 20,\n      borderRadius: 12,\n      boxShadow: \"0 1px 3px rgba(0,0,0,0.1)\"\n    },\n    input: {\n      width: \"100%\",\n      padding: \"10px 12px\",\n      fontSize: 14,\n      borderWidth: 2,\n      borderStyle: \"solid\",\n      borderColor: \"#99CFCE\",\n      borderRadius: 6,\n      outline: \"none\",\n      transition: \"border-color .15s\",\n      background: \"#ffffff\",\n      color: \"#0F1F1F\",\n      boxSizing: \"border-box\"\n    },\n    searchContainer: {\n      background: \"#ffffff\",\n      padding: 16,\n      borderRadius: 12,\n      boxShadow: \"0 1px 3px rgba(0,0,0,0.1)\"\n    },\n    searchLabel: {\n      fontSize: 14,\n      fontWeight: 600,\n      color: \"#234848\",\n      marginBottom: 8\n    },\n    searchInput: {\n      width: \"100%\",\n      padding: \"10px 12px\",\n      fontSize: 14,\n      borderWidth: 2,\n      borderStyle: \"solid\",\n      borderColor: \"#99CFCE\",\n      borderRadius: 6,\n      outline: \"none\",\n      transition: \"border-color .15s\",\n      background: \"#ffffff\",\n      color: \"#0F1F1F\",\n      boxSizing: \"border-box\"\n    }\n  };\n  const [backHover, setBackHover] = useState(false);\n  const [logoutHover, setLogoutHover] = useState(false);\n  const [clearHover, setClearHover] = useState(false);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: styles.page,\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      style: styles.header,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.headerLeft,\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => navigate(-1),\n          style: {\n            ...styles.backButton,\n            ...(backHover ? styles.backButtonHover : {})\n          },\n          onMouseEnter: () => setBackHover(true),\n          onMouseLeave: () => setBackHover(false),\n          children: \"\\u2190 Back\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 832,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => navigate(`../`),\n          style: styles.backButton,\n          children: /*#__PURE__*/_jsxDEV(\"svg\", {\n            width: \"16\",\n            height: \"16\",\n            viewBox: \"0 0 24 24\",\n            fill: \"currentColor\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              d: \"M12 3l9 8h-3v9h-12v-9h-3l9-8z\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 853,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 847,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 843,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          style: styles.title,\n          children: \"Area Calculator\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 856,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 831,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => {\n          localStorage.removeItem(\"user\");\n          setUser(null);\n        },\n        style: {\n          ...styles.logoutBtn,\n          ...(logoutHover ? styles.logoutBtnHover : {})\n        },\n        onMouseEnter: () => setLogoutHover(true),\n        onMouseLeave: () => setLogoutHover(false),\n        children: \"Logout\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 858,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 830,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      style: styles.content,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.mapWrapper,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.mapContainer,\n          children: !isLoaded ? /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: \"flex\",\n              alignItems: \"center\",\n              justifyContent: \"center\",\n              height: \"100%\",\n              color: \"#234848\",\n              fontSize: 18\n            },\n            children: \"Loading Google Maps...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 879,\n            columnNumber: 29\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            ref: mapRef,\n            style: {\n              width: \"100%\",\n              height: \"100%\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 890,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 877,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.sidePanel,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.searchContainer,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: styles.searchLabel,\n              children: \"Search Address\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 898,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              ref: searchInputRef,\n              type: \"text\",\n              placeholder: \"Enter an address...\",\n              value: searchValue,\n              onChange: e => setSearchValue(e.target.value),\n              style: styles.searchInput\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 901,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 897,\n            columnNumber: 25\n          }, this), savedAreas.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.searchContainer,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: styles.searchLabel,\n              children: \"Load Saved Area\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 914,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: selectedSavedArea,\n              onChange: e => setSelectedSavedArea(e.target.value),\n              style: styles.select,\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"Select a saved area...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 922,\n                columnNumber: 37\n              }, this), savedAreas.map(area => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: area.id,\n                children: [area.area_name, \" - \", area.customer_name || 'Unknown', \" / \", area.job_name || 'Unknown Job']\n              }, area.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 924,\n                columnNumber: 41\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 917,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: \"flex\",\n                gap: 8,\n                marginTop: 8\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handleLoadSavedArea,\n                disabled: !selectedSavedArea,\n                style: {\n                  ...styles.saveButton,\n                  ...(loadAreaHover && selectedSavedArea ? styles.saveButtonHover : {}),\n                  opacity: selectedSavedArea ? 1 : 0.5,\n                  cursor: selectedSavedArea ? \"pointer\" : \"not-allowed\",\n                  flex: 1,\n                  marginTop: 0\n                },\n                onMouseEnter: () => setLoadAreaHover(true),\n                onMouseLeave: () => setLoadAreaHover(false),\n                children: \"Load Area\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 930,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setSelectedSavedArea(\"\"),\n                disabled: !selectedSavedArea,\n                style: {\n                  ...styles.clearButton,\n                  ...(clearSavedAreaHover && selectedSavedArea ? styles.clearButtonHover : {}),\n                  opacity: selectedSavedArea ? 1 : 0.5,\n                  cursor: selectedSavedArea ? \"pointer\" : \"not-allowed\",\n                  flex: 1\n                },\n                onMouseEnter: () => setClearSavedAreaHover(true),\n                onMouseLeave: () => setClearSavedAreaHover(false),\n                children: \"Clear\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 946,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 929,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 913,\n            columnNumber: 29\n          }, this), area > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.resultBox,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: styles.resultLabel,\n              children: \"Total Area\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 968,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: styles.resultValue,\n                children: convertArea(area)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 970,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: styles.resultUnit,\n                children: getUnitLabel()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 971,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 969,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 967,\n            columnNumber: 29\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.emptyResult,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontSize: 32,\n                marginBottom: 8\n              },\n              children: \"\\uD83D\\uDCD0\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 976,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontWeight: 600,\n                marginBottom: 6\n              },\n              children: \"No Area Calculated\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 977,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: \"Draw a shape on the map\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 978,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 975,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.controls,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: styles.formGroup,\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                style: styles.label,\n                children: \"Unit of Measurement\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 985,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: unit,\n                onChange: e => setUnit(e.target.value),\n                style: styles.select,\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"sqft\",\n                  children: \"Square Feet\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 991,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"sqm\",\n                  children: \"Square Meters\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 992,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"acres\",\n                  children: \"Acres\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 993,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"hectares\",\n                  children: \"Hectares\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 994,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 986,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 984,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: clearShape,\n              style: {\n                ...styles.clearButton,\n                ...(clearHover ? styles.clearButtonHover : {}),\n                width: \"100%\",\n                marginTop: 16\n              },\n              onMouseEnter: () => setClearHover(true),\n              onMouseLeave: () => setClearHover(false),\n              children: \"Clear Shape\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 997,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 983,\n            columnNumber: 25\n          }, this), area > 0 && !showSaveForm && /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setShowSaveForm(true),\n            style: {\n              ...styles.saveButton,\n              ...(saveHover ? styles.saveButtonHover : {})\n            },\n            onMouseEnter: () => setSaveHover(true),\n            onMouseLeave: () => setSaveHover(false),\n            children: \"\\uD83D\\uDCBE Save to Job\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1014,\n            columnNumber: 29\n          }, this), showSaveForm && /*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.saveForm,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontSize: 16,\n                fontWeight: 600,\n                color: \"#234848\",\n                marginBottom: 16\n              },\n              children: \"Save Area to Job\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1030,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: styles.formGroup,\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                style: styles.label,\n                children: \"Area Name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1035,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                value: areaName,\n                onChange: e => setAreaName(e.target.value),\n                placeholder: \"e.g., Front Yard, Driveway\",\n                style: styles.input\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1036,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1034,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: styles.formGroup,\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                style: styles.label,\n                children: \"Customer\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1046,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: selectedCustomer,\n                onChange: e => handleCustomerChange(e.target.value),\n                style: styles.select,\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"Select a customer\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1052,\n                  columnNumber: 41\n                }, this), customers.map(customer => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: customer.id,\n                  children: customer.name\n                }, customer.id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1054,\n                  columnNumber: 45\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1047,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1045,\n              columnNumber: 33\n            }, this), selectedCustomer && /*#__PURE__*/_jsxDEV(\"div\", {\n              style: styles.formGroup,\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                style: styles.label,\n                children: \"Job\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1063,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: selectedJob,\n                onChange: e => setSelectedJob(e.target.value),\n                style: styles.select,\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"Select a job\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1069,\n                  columnNumber: 45\n                }, this), jobs.map(job => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: job.id,\n                  children: job.name\n                }, job.id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1071,\n                  columnNumber: 49\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1064,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1062,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: \"flex\",\n                gap: 8,\n                marginTop: 16\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handleSaveArea,\n                style: {\n                  ...styles.saveButton,\n                  flex: 1,\n                  padding: \"8px 16px\"\n                },\n                children: \"Save\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1080,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => {\n                  setShowSaveForm(false);\n                  setAreaName(\"\");\n                  setSelectedCustomer(\"\");\n                  setSelectedJob(\"\");\n                },\n                style: {\n                  ...styles.clearButton,\n                  flex: 1,\n                  padding: \"8px 16px\"\n                },\n                children: \"Cancel\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1090,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1079,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1029,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 895,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 875,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 874,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 829,\n    columnNumber: 9\n  }, this);\n}\n_s(AreaCalculator, \"+mIW9HyBXQ+NeANMAs77DMfyZJc=\", false, function () {\n  return [useNavigate, useLocation];\n});\n_c = AreaCalculator;\nvar _c;\n$RefreshReg$(_c, \"AreaCalculator\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useNavigate","useLocation","BASE_URL","jsxDEV","_jsxDEV","AreaCalculator","user","setUser","_s","navigate","location","mapRef","googleMapRef","drawingManagerRef","currentShapeRef","shapeTypeRef","searchInputRef","autocompleteRef","area","setArea","unit","setUnit","isLoaded","setIsLoaded","userLocation","setUserLocation","searchValue","setSearchValue","customers","setCustomers","jobs","setJobs","selectedCustomer","setSelectedCustomer","selectedJob","setSelectedJob","areaName","setAreaName","showSaveForm","setShowSaveForm","saveHover","setSaveHover","loadedAreaData","setLoadedAreaData","savedAreas","setSavedAreas","selectedSavedArea","setSelectedSavedArea","loadAreaHover","setLoadAreaHover","clearSavedAreaHover","setClearSavedAreaHover","_location$state","navigator","geolocation","getCurrentPosition","position","lat","coords","latitude","lng","longitude","error","console","log","message","loadGoogleMaps","window","google","maps","apiKey","process","env","REACT_APP_GOOGLE_MAPS_API_KEY","script","document","createElement","src","async","defer","onload","onerror","head","appendChild","fetchCustomers","res","fetch","id","ok","data","json","err","fetchSavedAreas","state","areaData","parseFloat","area_value","getConversionFactor","_loadedAreaData$shape","current","mapCenter","shape_data","center","map","Map","zoom","mapTypeId","mapTypeControl","streetViewControl","fullscreenControl","Marker","title","icon","path","SymbolPath","CIRCLE","scale","fillColor","fillOpacity","strokeColor","strokeWeight","drawingManager","drawing","DrawingManager","drawingMode","OverlayType","POLYGON","drawingControl","drawingControlOptions","ControlPosition","TOP_CENTER","drawingModes","RECTANGLE","polygonOptions","clickable","editable","zIndex","rectangleOptions","circleOptions","setMap","event","addListener","overlay","calculateArea","type","getPath","setDrawingMode","recreateSavedShape","autocomplete","places","Autocomplete","fields","place","getPlace","geometry","name","setCenter","setZoom","formatted_address","animation","Animation","DROP","targetUnit","getShapeData","shape","i","getLength","point","getAt","push","length","avgLat","reduce","sum","p","avgLng","bounds","getBounds","north","getNorthEast","south","getSouthWest","east","west","getCenter","radius","getRadius","shapeData","Polygon","paths","Rectangle","Circle","areaInSquareMeters","spherical","computeArea","ne","sw","nw","LatLng","se","Math","PI","convertArea","toFixed","clearShape","handleLoadSavedArea","alert","areaToLoad","find","a","parseInt","JSON","parse","handleCustomerChange","customerId","handleSaveArea","trim","method","headers","body","stringify","user_id","job_id","customer_id","area_name","errorData","getUnitLabel","styles","page","minHeight","background","fontFamily","header","padding","display","justifyContent","alignItems","boxShadow","headerLeft","gap","backButton","appearance","borderWidth","borderStyle","borderColor","borderRadius","cursor","fontSize","color","transition","backButtonHover","margin","fontWeight","logoutBtn","logoutBtnHover","content","maxWidth","height","flexDirection","controls","formGroup","label","select","width","outline","boxSizing","button","buttonHover","clearButton","clearButtonHover","resultBox","textAlign","flex","resultLabel","marginBottom","textTransform","letterSpacing","resultValue","lineHeight","resultUnit","emptyResult","mapWrapper","mapContainer","overflow","sidePanel","saveButton","saveButtonHover","saveForm","input","searchContainer","searchLabel","searchInput","backHover","setBackHover","logoutHover","setLogoutHover","clearHover","setClearHover","style","children","onClick","onMouseEnter","onMouseLeave","fileName","_jsxFileName","lineNumber","columnNumber","viewBox","fill","d","localStorage","removeItem","ref","placeholder","value","onChange","e","target","customer_name","job_name","marginTop","disabled","opacity","customer","job","_c","$RefreshReg$"],"sources":["/Users/dylankohn/coding_projects/constructionCRM/inventory-frontend/src/tools/AreaCalculator.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\nimport { useNavigate, useLocation } from \"react-router-dom\";\nimport { BASE_URL } from \"../config\";\n\nexport default function AreaCalculator({ user, setUser }) {\n    const navigate = useNavigate();\n    const location = useLocation();\n    const mapRef = useRef(null);\n    const googleMapRef = useRef(null);\n    const drawingManagerRef = useRef(null);\n    const currentShapeRef = useRef(null);\n    const shapeTypeRef = useRef(null);\n    const searchInputRef = useRef(null);\n    const autocompleteRef = useRef(null);\n    \n    const [area, setArea] = useState(0);\n    const [unit, setUnit] = useState(\"sqft\");\n    const [isLoaded, setIsLoaded] = useState(false);\n    const [userLocation, setUserLocation] = useState(null);\n    const [searchValue, setSearchValue] = useState(\"\");\n    \n    // Save functionality\n    const [customers, setCustomers] = useState([]);\n    const [jobs, setJobs] = useState([]);\n    const [selectedCustomer, setSelectedCustomer] = useState(\"\");\n    const [selectedJob, setSelectedJob] = useState(\"\");\n    const [areaName, setAreaName] = useState(\"\");\n    const [showSaveForm, setShowSaveForm] = useState(false);\n    const [saveHover, setSaveHover] = useState(false);\n    \n    // For loading saved shapes\n    const [loadedAreaData, setLoadedAreaData] = useState(null);\n    const [savedAreas, setSavedAreas] = useState([]);\n    const [selectedSavedArea, setSelectedSavedArea] = useState(\"\");\n    const [loadAreaHover, setLoadAreaHover] = useState(false);\n    const [clearSavedAreaHover, setClearSavedAreaHover] = useState(false);\n\n    useEffect(() => {\n        // Get user's current location\n        if (navigator.geolocation) {\n            navigator.geolocation.getCurrentPosition(\n                (position) => {\n                    setUserLocation({\n                        lat: position.coords.latitude,\n                        lng: position.coords.longitude,\n                    });\n                },\n                (error) => {\n                    console.log(\"Geolocation error:\", error.message);\n                    // Fallback to default location (New York)\n                    setUserLocation({ lat: 40.7128, lng: -74.0060 });\n                }\n            );\n        } else {\n            // Fallback if geolocation not supported\n            setUserLocation({ lat: 40.7128, lng: -74.0060 });\n        }\n\n        // Load Google Maps API\n        const loadGoogleMaps = () => {\n            if (window.google && window.google.maps) {\n                setIsLoaded(true);\n                return;\n            }\n\n            const apiKey = process.env.REACT_APP_GOOGLE_MAPS_API_KEY;\n            \n            if (!apiKey) {\n                console.error(\"Google Maps API key not found. Please set REACT_APP_GOOGLE_MAPS_API_KEY in your .env.local file\");\n                return;\n            }\n\n            const script = document.createElement(\"script\");\n            script.src = `https://maps.googleapis.com/maps/api/js?key=${apiKey}&libraries=drawing,geometry,places`;\n            script.async = true;\n            script.defer = true;\n            script.onload = () => setIsLoaded(true);\n            script.onerror = () => {\n                console.error(\"Failed to load Google Maps API. Please check your API key.\");\n            };\n            document.head.appendChild(script);\n        };\n\n        loadGoogleMaps();\n\n        // Fetch customers\n        const fetchCustomers = async () => {\n            try {\n                const res = await fetch(`${BASE_URL}/customers/${user.id}`);\n                if (res.ok) {\n                    const data = await res.json();\n                    setCustomers(data);\n                }\n            } catch (err) {\n                console.error(\"Error fetching customers:\", err);\n            }\n        };\n\n        // Fetch all saved areas for the user\n        const fetchSavedAreas = async () => {\n            try {\n                const res = await fetch(`${BASE_URL}/areas/user/${user.id}`);\n                if (res.ok) {\n                    const data = await res.json();\n                    setSavedAreas(data);\n                }\n            } catch (err) {\n                console.error(\"Error fetching saved areas:\", err);\n            }\n        };\n\n        fetchCustomers();\n        fetchSavedAreas();\n\n        // Check if we're loading a saved area\n        if (location.state?.areaData) {\n            setLoadedAreaData(location.state.areaData);\n            setUnit(location.state.areaData.unit);\n            setArea(parseFloat(location.state.areaData.area_value) / getConversionFactor(location.state.areaData.unit));\n        }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    useEffect(() => {\n        if (!isLoaded || !mapRef.current || !userLocation) return;\n\n        // Initialize map with user's location (or saved shape center if loading)\n        const mapCenter = loadedAreaData?.shape_data?.center || userLocation;\n        const map = new window.google.maps.Map(mapRef.current, {\n            center: mapCenter,\n            zoom: loadedAreaData ? 18 : 18,\n            mapTypeId: \"satellite\",\n            mapTypeControl: true,\n            streetViewControl: false,\n            fullscreenControl: true,\n        });\n\n        googleMapRef.current = map;\n\n        // Add a marker at user's location (only if not loading a saved shape)\n        if (!loadedAreaData) {\n            new window.google.maps.Marker({\n                position: userLocation,\n                map: map,\n                title: \"Your Location\",\n                icon: {\n                    path: window.google.maps.SymbolPath.CIRCLE,\n                    scale: 8,\n                    fillColor: \"#4DA3A2\",\n                    fillOpacity: 1,\n                    strokeColor: \"#ffffff\",\n                    strokeWeight: 2,\n                },\n            });\n        }\n\n        // Initialize drawing manager\n        const drawingManager = new window.google.maps.drawing.DrawingManager({\n            drawingMode: window.google.maps.drawing.OverlayType.POLYGON,\n            drawingControl: true,\n            drawingControlOptions: {\n                position: window.google.maps.ControlPosition.TOP_CENTER,\n                drawingModes: [\n                    window.google.maps.drawing.OverlayType.POLYGON,\n                    window.google.maps.drawing.OverlayType.RECTANGLE,\n                    window.google.maps.drawing.OverlayType.CIRCLE,\n                ],\n            },\n            polygonOptions: {\n                fillColor: \"#4DA3A2\",\n                fillOpacity: 0.3,\n                strokeWeight: 2,\n                strokeColor: \"#234848\",\n                clickable: true,\n                editable: true,\n                zIndex: 1,\n            },\n            rectangleOptions: {\n                fillColor: \"#4DA3A2\",\n                fillOpacity: 0.3,\n                strokeWeight: 2,\n                strokeColor: \"#234848\",\n                clickable: true,\n                editable: true,\n                zIndex: 1,\n            },\n            circleOptions: {\n                fillColor: \"#4DA3A2\",\n                fillOpacity: 0.3,\n                strokeWeight: 2,\n                strokeColor: \"#234848\",\n                clickable: true,\n                editable: true,\n                zIndex: 1,\n            },\n        });\n\n        drawingManager.setMap(map);\n        drawingManagerRef.current = drawingManager;\n\n        // Listen for shape completion\n        window.google.maps.event.addListener(\n            drawingManager,\n            \"overlaycomplete\",\n            (event) => {\n                // Remove previous shape\n                if (currentShapeRef.current) {\n                    currentShapeRef.current.setMap(null);\n                }\n\n                currentShapeRef.current = event.overlay;\n                calculateArea(event.overlay, event.type);\n\n                // Add listeners for editing\n                if (event.type === \"polygon\") {\n                    window.google.maps.event.addListener(\n                        event.overlay.getPath(),\n                        \"set_at\",\n                        () => calculateArea(event.overlay, event.type)\n                    );\n                    window.google.maps.event.addListener(\n                        event.overlay.getPath(),\n                        \"insert_at\",\n                        () => calculateArea(event.overlay, event.type)\n                    );\n                } else if (event.type === \"rectangle\") {\n                    window.google.maps.event.addListener(\n                        event.overlay,\n                        \"bounds_changed\",\n                        () => calculateArea(event.overlay, event.type)\n                    );\n                } else if (event.type === \"circle\") {\n                    window.google.maps.event.addListener(\n                        event.overlay,\n                        \"radius_changed\",\n                        () => calculateArea(event.overlay, event.type)\n                    );\n                    window.google.maps.event.addListener(\n                        event.overlay,\n                        \"center_changed\",\n                        () => calculateArea(event.overlay, event.type)\n                    );\n                }\n\n                // Switch to hand mode after drawing\n                drawingManager.setDrawingMode(null);\n            }\n        );\n\n        // If loading a saved shape, recreate it\n        if (loadedAreaData?.shape_data) {\n            recreateSavedShape(map, loadedAreaData.shape_data);\n        }\n\n        // Initialize Places Autocomplete\n        if (searchInputRef.current && !autocompleteRef.current) {\n            const autocomplete = new window.google.maps.places.Autocomplete(searchInputRef.current, {\n                fields: [\"geometry\", \"formatted_address\", \"name\"],\n            });\n\n            autocomplete.addListener(\"place_changed\", () => {\n                const place = autocomplete.getPlace();\n                \n                if (!place.geometry || !place.geometry.location) {\n                    console.log(\"No details available for input: '\" + place.name + \"'\");\n                    return;\n                }\n\n                // Center map on the selected location\n                map.setCenter(place.geometry.location);\n                map.setZoom(18);\n\n                // Add a marker at the searched location\n                new window.google.maps.Marker({\n                    position: place.geometry.location,\n                    map: map,\n                    title: place.formatted_address || place.name,\n                    animation: window.google.maps.Animation.DROP,\n                });\n            });\n\n            autocompleteRef.current = autocomplete;\n        }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [isLoaded, userLocation, loadedAreaData]);\n\n    const getConversionFactor = (targetUnit) => {\n        switch (targetUnit) {\n            case \"sqft\":\n                return 10.7639;\n            case \"sqm\":\n                return 1;\n            case \"acres\":\n                return 0.000247105;\n            case \"hectares\":\n                return 0.0001;\n            default:\n                return 1;\n        }\n    };\n\n    const getShapeData = (shape, type) => {\n        const data = { type, center: null };\n        \n        if (type === \"polygon\") {\n            const path = shape.getPath();\n            data.path = [];\n            for (let i = 0; i < path.getLength(); i++) {\n                const point = path.getAt(i);\n                data.path.push({ lat: point.lat(), lng: point.lng() });\n            }\n            // Calculate center\n            if (data.path.length > 0) {\n                const avgLat = data.path.reduce((sum, p) => sum + p.lat, 0) / data.path.length;\n                const avgLng = data.path.reduce((sum, p) => sum + p.lng, 0) / data.path.length;\n                data.center = { lat: avgLat, lng: avgLng };\n            }\n        } else if (type === \"rectangle\") {\n            const bounds = shape.getBounds();\n            data.bounds = {\n                north: bounds.getNorthEast().lat(),\n                south: bounds.getSouthWest().lat(),\n                east: bounds.getNorthEast().lng(),\n                west: bounds.getSouthWest().lng(),\n            };\n            data.center = {\n                lat: (data.bounds.north + data.bounds.south) / 2,\n                lng: (data.bounds.east + data.bounds.west) / 2,\n            };\n        } else if (type === \"circle\") {\n            const center = shape.getCenter();\n            data.center = { lat: center.lat(), lng: center.lng() };\n            data.radius = shape.getRadius();\n        }\n        \n        return data;\n    };\n\n    const recreateSavedShape = (map, shapeData) => {\n        let shape = null;\n        \n        if (shapeData.type === \"polygon\" && shapeData.path) {\n            shape = new window.google.maps.Polygon({\n                paths: shapeData.path,\n                fillColor: \"#4DA3A2\",\n                fillOpacity: 0.3,\n                strokeWeight: 2,\n                strokeColor: \"#234848\",\n                editable: true,\n                map: map,\n            });\n            currentShapeRef.current = shape;\n            shapeTypeRef.current = \"polygon\";\n            \n            // Add listeners for editing\n            window.google.maps.event.addListener(shape.getPath(), \"set_at\", () =>\n                calculateArea(shape, \"polygon\")\n            );\n            window.google.maps.event.addListener(shape.getPath(), \"insert_at\", () =>\n                calculateArea(shape, \"polygon\")\n            );\n            \n            calculateArea(shape, \"polygon\");\n        } else if (shapeData.type === \"rectangle\" && shapeData.bounds) {\n            shape = new window.google.maps.Rectangle({\n                bounds: shapeData.bounds,\n                fillColor: \"#4DA3A2\",\n                fillOpacity: 0.3,\n                strokeWeight: 2,\n                strokeColor: \"#234848\",\n                editable: true,\n                map: map,\n            });\n            currentShapeRef.current = shape;\n            shapeTypeRef.current = \"rectangle\";\n            \n            window.google.maps.event.addListener(shape, \"bounds_changed\", () =>\n                calculateArea(shape, \"rectangle\")\n            );\n            \n            calculateArea(shape, \"rectangle\");\n        } else if (shapeData.type === \"circle\" && shapeData.center && shapeData.radius) {\n            shape = new window.google.maps.Circle({\n                center: shapeData.center,\n                radius: shapeData.radius,\n                fillColor: \"#4DA3A2\",\n                fillOpacity: 0.3,\n                strokeWeight: 2,\n                strokeColor: \"#234848\",\n                editable: true,\n                map: map,\n            });\n            currentShapeRef.current = shape;\n            shapeTypeRef.current = \"circle\";\n            \n            window.google.maps.event.addListener(shape, \"radius_changed\", () =>\n                calculateArea(shape, \"circle\")\n            );\n            window.google.maps.event.addListener(shape, \"center_changed\", () =>\n                calculateArea(shape, \"circle\")\n            );\n            \n            calculateArea(shape, \"circle\");\n        }\n    };\n\n    const calculateArea = (shape, type) => {\n        let areaInSquareMeters = 0;\n        shapeTypeRef.current = type;\n\n        if (type === \"polygon\") {\n            areaInSquareMeters = window.google.maps.geometry.spherical.computeArea(\n                shape.getPath()\n            );\n        } else if (type === \"rectangle\") {\n            const bounds = shape.getBounds();\n            const ne = bounds.getNorthEast();\n            const sw = bounds.getSouthWest();\n            const nw = new window.google.maps.LatLng(ne.lat(), sw.lng());\n            const se = new window.google.maps.LatLng(sw.lat(), ne.lng());\n            \n            const path = [nw, ne, se, sw];\n            areaInSquareMeters = window.google.maps.geometry.spherical.computeArea(path);\n        } else if (type === \"circle\") {\n            const radius = shape.getRadius();\n            areaInSquareMeters = Math.PI * radius * radius;\n        }\n\n        setArea(areaInSquareMeters);\n    };\n\n    const convertArea = (areaInSquareMeters) => {\n        switch (unit) {\n            case \"sqft\":\n                return (areaInSquareMeters * 10.7639).toFixed(2);\n            case \"sqm\":\n                return areaInSquareMeters.toFixed(2);\n            case \"acres\":\n                return (areaInSquareMeters * 0.000247105).toFixed(4);\n            case \"hectares\":\n                return (areaInSquareMeters * 0.0001).toFixed(4);\n            default:\n                return areaInSquareMeters.toFixed(2);\n        }\n    };\n\n    const clearShape = () => {\n        if (currentShapeRef.current) {\n            currentShapeRef.current.setMap(null);\n            currentShapeRef.current = null;\n            setArea(0);\n        }\n    };\n\n    const handleLoadSavedArea = () => {\n        if (!selectedSavedArea) {\n            alert(\"Please select an area to load\");\n            return;\n        }\n\n        const areaToLoad = savedAreas.find(a => a.id === parseInt(selectedSavedArea));\n        if (!areaToLoad) return;\n\n        // Clear existing shape\n        clearShape();\n\n        // Parse shape data\n        const shapeData = typeof areaToLoad.shape_data === 'string' \n            ? JSON.parse(areaToLoad.shape_data) \n            : areaToLoad.shape_data;\n\n        // Set area and unit\n        setArea(parseFloat(areaToLoad.area_value) / getConversionFactor(areaToLoad.unit));\n        setUnit(areaToLoad.unit);\n\n        // Center map on the saved area\n        if (googleMapRef.current && shapeData.center) {\n            googleMapRef.current.setCenter(shapeData.center);\n            googleMapRef.current.setZoom(18);\n        }\n\n        // Recreate the shape\n        if (googleMapRef.current) {\n            recreateSavedShape(googleMapRef.current, shapeData);\n        }\n    };\n\n    const handleCustomerChange = async (customerId) => {\n        setSelectedCustomer(customerId);\n        setSelectedJob(\"\");\n        setJobs([]);\n        \n        if (customerId) {\n            try {\n                const res = await fetch(`${BASE_URL}/jobs/customer/${customerId}/${user.id}`);\n                if (res.ok) {\n                    const data = await res.json();\n                    setJobs(data);\n                }\n            } catch (err) {\n                console.error(\"Error fetching jobs:\", err);\n            }\n        }\n    };\n\n    const handleSaveArea = async () => {\n        if (!selectedJob || !areaName.trim() || area === 0) {\n            alert(\"Please select a job, enter an area name, and calculate an area first.\");\n            return;\n        }\n\n        if (!currentShapeRef.current || !shapeTypeRef.current) {\n            alert(\"No shape drawn. Please draw a shape first.\");\n            return;\n        }\n\n        try {\n            const shapeData = getShapeData(currentShapeRef.current, shapeTypeRef.current);\n            \n            const res = await fetch(`${BASE_URL}/areas`, {\n                method: \"POST\",\n                headers: { \"Content-Type\": \"application/json\" },\n                body: JSON.stringify({\n                    user_id: user.id,\n                    job_id: selectedJob,\n                    customer_id: selectedCustomer,\n                    area_name: areaName,\n                    area_value: convertArea(area),\n                    unit: unit,\n                    shape_data: JSON.stringify(shapeData),\n                }),\n            });\n\n            if (res.ok) {\n                // Navigate to the job details page\n                navigate(`/customer/${selectedCustomer}/job/${selectedJob}`);\n            } else {\n                const errorData = await res.json();\n                alert(\"Failed to save area: \" + (errorData.error || \"Unknown error\"));\n            }\n        } catch (err) {\n            console.error(\"Error saving area:\", err);\n            alert(\"Error saving area: \" + err.message);\n        }\n    };\n\n    const getUnitLabel = () => {\n        switch (unit) {\n            case \"sqft\":\n                return \"sq ft\";\n            case \"sqm\":\n                return \"sq m\";\n            case \"acres\":\n                return \"acres\";\n            case \"hectares\":\n                return \"hectares\";\n            default:\n                return \"sq m\";\n        }\n    };\n\n    const styles = {\n        page: {\n            minHeight: \"100vh\",\n            background: \"#f9fafb\",\n            fontFamily: \"'DM Sans', sans-serif\",\n        },\n        header: {\n            background: \"#234848\",\n            padding: \"16px 32px\",\n            display: \"flex\",\n            justifyContent: \"space-between\",\n            alignItems: \"center\",\n            boxShadow: \"0 2px 4px rgba(0,0,0,0.1)\",\n        },\n        headerLeft: {\n            display: \"flex\",\n            alignItems: \"center\",\n            gap: 16,\n        },\n        backButton: {\n            appearance: \"none\",\n            borderWidth: 1,\n            borderStyle: \"solid\",\n            borderColor: \"#99CFCE\",\n            background: \"transparent\",\n            padding: \"8px 16px\",\n            borderRadius: 6,\n            cursor: \"pointer\",\n            fontSize: 14,\n            color: \"#99CFCE\",\n            transition: \"all .15s\",\n        },\n        backButtonHover: {\n            background: \"#99CFCE\",\n            color: \"#0F1F1F\",\n        },\n        title: {\n            margin: 0,\n            fontSize: 24,\n            fontWeight: 600,\n            color: \"#ffffff\",\n        },\n        logoutBtn: {\n            appearance: \"none\",\n            borderWidth: 1,\n            borderStyle: \"solid\",\n            borderColor: \"#99CFCE\",\n            background: \"transparent\",\n            padding: \"8px 12px\",\n            borderRadius: 6,\n            cursor: \"pointer\",\n            fontSize: 14,\n            color: \"#99CFCE\",\n            transition: \"all .15s\",\n        },\n        logoutBtnHover: {\n            background: \"#99CFCE\",\n            color: \"#0F1F1F\",\n        },\n        content: {\n            maxWidth: 1400,\n            margin: \"0 auto\",\n            padding: \"24px 32px\",\n            height: \"calc(100vh - 120px)\", // Full height minus header\n            display: \"flex\",\n            flexDirection: \"column\",\n        },\n        controls: {\n            background: \"#ffffff\",\n            padding: 20,\n            borderRadius: 12,\n            boxShadow: \"0 1px 3px rgba(0,0,0,0.1)\",\n        },\n        formGroup: {\n            display: \"flex\",\n            flexDirection: \"column\",\n            gap: 8,\n        },\n        label: {\n            fontSize: 14,\n            fontWeight: 600,\n            color: \"#234848\",\n        },\n        select: {\n            width: \"100%\",\n            padding: \"10px 12px\",\n            fontSize: 14,\n            borderWidth: 2,\n            borderStyle: \"solid\",\n            borderColor: \"#99CFCE\",\n            borderRadius: 6,\n            outline: \"none\",\n            transition: \"border-color .15s\",\n            background: \"#ffffff\",\n            color: \"#0F1F1F\",\n            boxSizing: \"border-box\",\n        },\n        button: {\n            appearance: \"none\",\n            borderWidth: 2,\n            borderStyle: \"solid\",\n            borderColor: \"#4DA3A2\",\n            background: \"#4DA3A2\",\n            padding: \"10px 20px\",\n            borderRadius: 6,\n            cursor: \"pointer\",\n            fontSize: 14,\n            fontWeight: 600,\n            color: \"#ffffff\",\n            transition: \"all .15s ease\",\n        },\n        buttonHover: {\n            background: \"#3d8a89\",\n        },\n        clearButton: {\n            appearance: \"none\",\n            borderWidth: 2,\n            borderStyle: \"solid\",\n            borderColor: \"#99CFCE\",\n            background: \"#ffffff\",\n            padding: \"10px 20px\",\n            borderRadius: 6,\n            cursor: \"pointer\",\n            fontSize: 14,\n            fontWeight: 600,\n            color: \"#0F1F1F\",\n            transition: \"all .15s ease\",\n        },\n        clearButtonHover: {\n            background: \"#f3f4f6\",\n        },\n        resultBox: {\n            background: \"#ffffff\",\n            padding: 24,\n            borderRadius: 12,\n            boxShadow: \"0 1px 3px rgba(0,0,0,0.1)\",\n            textAlign: \"center\",\n            flex: 1,\n            display: \"flex\",\n            flexDirection: \"column\",\n            justifyContent: \"center\",\n        },\n        resultLabel: {\n            fontSize: 14,\n            color: \"#234848\",\n            marginBottom: 16,\n            fontWeight: 600,\n            textTransform: \"uppercase\",\n            letterSpacing: 0.5,\n        },\n        resultValue: {\n            fontSize: 36,\n            fontWeight: 700,\n            color: \"#4DA3A2\",\n            marginBottom: 8,\n            lineHeight: 1,\n        },\n        resultUnit: {\n            fontSize: 18,\n            color: \"#0F1F1F\",\n            fontWeight: 500,\n        },\n        emptyResult: {\n            background: \"#ffffff\",\n            padding: 20,\n            borderRadius: 12,\n            boxShadow: \"0 1px 3px rgba(0,0,0,0.1)\",\n            textAlign: \"center\",\n            flex: 1,\n            display: \"flex\",\n            flexDirection: \"column\",\n            justifyContent: \"center\",\n            color: \"#6b7280\",\n            fontSize: 13,\n        },\n        mapWrapper: {\n            display: \"flex\",\n            gap: 24,\n            flex: 1,\n            minHeight: 0, // Important for flexbox\n        },\n        mapContainer: {\n            flex: \"0 0 75%\",\n            background: \"#ffffff\",\n            borderRadius: 12,\n            overflow: \"hidden\",\n            boxShadow: \"0 1px 3px rgba(0,0,0,0.1)\",\n            minHeight: 0,\n        },\n        sidePanel: {\n            flex: \"0 0 calc(25% - 24px)\",\n            display: \"flex\",\n            flexDirection: \"column\",\n            gap: 16,\n            overflow: \"auto\",\n        },\n        saveButton: {\n            appearance: \"none\",\n            borderWidth: 2,\n            borderStyle: \"solid\",\n            borderColor: \"#4DA3A2\",\n            background: \"#4DA3A2\",\n            padding: \"10px 20px\",\n            borderRadius: 6,\n            cursor: \"pointer\",\n            fontSize: 14,\n            fontWeight: 600,\n            color: \"#ffffff\",\n            transition: \"all .15s ease\",\n            width: \"100%\",\n        },\n        saveButtonHover: {\n            background: \"#3d8a89\",\n        },\n        saveForm: {\n            background: \"#ffffff\",\n            padding: 20,\n            borderRadius: 12,\n            boxShadow: \"0 1px 3px rgba(0,0,0,0.1)\",\n        },\n        input: {\n            width: \"100%\",\n            padding: \"10px 12px\",\n            fontSize: 14,\n            borderWidth: 2,\n            borderStyle: \"solid\",\n            borderColor: \"#99CFCE\",\n            borderRadius: 6,\n            outline: \"none\",\n            transition: \"border-color .15s\",\n            background: \"#ffffff\",\n            color: \"#0F1F1F\",\n            boxSizing: \"border-box\",\n        },\n        searchContainer: {\n            background: \"#ffffff\",\n            padding: 16,\n            borderRadius: 12,\n            boxShadow: \"0 1px 3px rgba(0,0,0,0.1)\",\n        },\n        searchLabel: {\n            fontSize: 14,\n            fontWeight: 600,\n            color: \"#234848\",\n            marginBottom: 8,\n        },\n        searchInput: {\n            width: \"100%\",\n            padding: \"10px 12px\",\n            fontSize: 14,\n            borderWidth: 2,\n            borderStyle: \"solid\",\n            borderColor: \"#99CFCE\",\n            borderRadius: 6,\n            outline: \"none\",\n            transition: \"border-color .15s\",\n            background: \"#ffffff\",\n            color: \"#0F1F1F\",\n            boxSizing: \"border-box\",\n        },\n    };\n\n    const [backHover, setBackHover] = useState(false);\n    const [logoutHover, setLogoutHover] = useState(false);\n    const [clearHover, setClearHover] = useState(false);\n\n    return (\n        <div style={styles.page}>\n            <header style={styles.header}>\n                <div style={styles.headerLeft}>\n                    <button\n                        onClick={() => navigate(-1)}\n                        style={{\n                            ...styles.backButton,\n                            ...(backHover ? styles.backButtonHover : {}),\n                        }}\n                        onMouseEnter={() => setBackHover(true)}\n                        onMouseLeave={() => setBackHover(false)}\n                    >\n                         Back\n                    </button>\n                    <button\n                        onClick={() => navigate(`../`)}\n                        style={styles.backButton}\n                    >\n                        <svg \n                            width=\"16\" \n                            height=\"16\" \n                            viewBox=\"0 0 24 24\" \n                            fill=\"currentColor\"\n                        >\n                            <path d=\"M12 3l9 8h-3v9h-12v-9h-3l9-8z\" />\n                        </svg>\n                    </button>\n                    <h1 style={styles.title}>Area Calculator</h1>\n                </div>\n                <button\n                    onClick={() => {\n                        localStorage.removeItem(\"user\");\n                        setUser(null);\n                    }}\n                    style={{\n                        ...styles.logoutBtn,\n                        ...(logoutHover ? styles.logoutBtnHover : {}),\n                    }}\n                    onMouseEnter={() => setLogoutHover(true)}\n                    onMouseLeave={() => setLogoutHover(false)}\n                >\n                    Logout\n                </button>\n            </header>\n\n            <main style={styles.content}>\n                <div style={styles.mapWrapper}>\n                    {/* Map Container - 75% */}\n                    <div style={styles.mapContainer}>\n                        {!isLoaded ? (\n                            <div style={{ \n                                display: \"flex\", \n                                alignItems: \"center\", \n                                justifyContent: \"center\", \n                                height: \"100%\",\n                                color: \"#234848\",\n                                fontSize: 18,\n                            }}>\n                                Loading Google Maps...\n                            </div>\n                        ) : (\n                            <div ref={mapRef} style={{ width: \"100%\", height: \"100%\" }} />\n                        )}\n                    </div>\n\n                    {/* Side Panel - 25% */}\n                    <div style={styles.sidePanel}>\n                        {/* Address Search */}\n                        <div style={styles.searchContainer}>\n                            <div style={styles.searchLabel}>\n                                Search Address\n                            </div>\n                            <input\n                                ref={searchInputRef}\n                                type=\"text\"\n                                placeholder=\"Enter an address...\"\n                                value={searchValue}\n                                onChange={(e) => setSearchValue(e.target.value)}\n                                style={styles.searchInput}\n                            />\n                        </div>\n\n                        {/* Load Saved Areas */}\n                        {savedAreas.length > 0 && (\n                            <div style={styles.searchContainer}>\n                                <div style={styles.searchLabel}>\n                                    Load Saved Area\n                                </div>\n                                <select\n                                    value={selectedSavedArea}\n                                    onChange={(e) => setSelectedSavedArea(e.target.value)}\n                                    style={styles.select}\n                                >\n                                    <option value=\"\">Select a saved area...</option>\n                                    {savedAreas.map((area) => (\n                                        <option key={area.id} value={area.id}>\n                                            {area.area_name} - {area.customer_name || 'Unknown'} / {area.job_name || 'Unknown Job'}\n                                        </option>\n                                    ))}\n                                </select>\n                                <div style={{ display: \"flex\", gap: 8, marginTop: 8 }}>\n                                    <button\n                                        onClick={handleLoadSavedArea}\n                                        disabled={!selectedSavedArea}\n                                        style={{\n                                            ...styles.saveButton,\n                                            ...(loadAreaHover && selectedSavedArea ? styles.saveButtonHover : {}),\n                                            opacity: selectedSavedArea ? 1 : 0.5,\n                                            cursor: selectedSavedArea ? \"pointer\" : \"not-allowed\",\n                                            flex: 1,\n                                            marginTop: 0,\n                                        }}\n                                        onMouseEnter={() => setLoadAreaHover(true)}\n                                        onMouseLeave={() => setLoadAreaHover(false)}\n                                    >\n                                        Load Area\n                                    </button>\n                                    <button\n                                        onClick={() => setSelectedSavedArea(\"\")}\n                                        disabled={!selectedSavedArea}\n                                        style={{\n                                            ...styles.clearButton,\n                                            ...(clearSavedAreaHover && selectedSavedArea ? styles.clearButtonHover : {}),\n                                            opacity: selectedSavedArea ? 1 : 0.5,\n                                            cursor: selectedSavedArea ? \"pointer\" : \"not-allowed\",\n                                            flex: 1,\n                                        }}\n                                        onMouseEnter={() => setClearSavedAreaHover(true)}\n                                        onMouseLeave={() => setClearSavedAreaHover(false)}\n                                    >\n                                        Clear\n                                    </button>\n                                </div>\n                            </div>\n                        )}\n\n                        {/* Area Display */}\n                        {area > 0 ? (\n                            <div style={styles.resultBox}>\n                                <div style={styles.resultLabel}>Total Area</div>\n                                <div>\n                                    <div style={styles.resultValue}>{convertArea(area)}</div>\n                                    <div style={styles.resultUnit}>{getUnitLabel()}</div>\n                                </div>\n                            </div>\n                        ) : (\n                            <div style={styles.emptyResult}>\n                                <div style={{ fontSize: 32, marginBottom: 8 }}></div>\n                                <div style={{ fontWeight: 600, marginBottom: 6 }}>No Area Calculated</div>\n                                <div>Draw a shape on the map</div>\n                            </div>\n                        )}\n\n                        {/* Controls */}\n                        <div style={styles.controls}>\n                            <div style={styles.formGroup}>\n                                <label style={styles.label}>Unit of Measurement</label>\n                                <select\n                                    value={unit}\n                                    onChange={(e) => setUnit(e.target.value)}\n                                    style={styles.select}\n                                >\n                                    <option value=\"sqft\">Square Feet</option>\n                                    <option value=\"sqm\">Square Meters</option>\n                                    <option value=\"acres\">Acres</option>\n                                    <option value=\"hectares\">Hectares</option>\n                                </select>\n                            </div>\n                            <button\n                                onClick={clearShape}\n                                style={{\n                                    ...styles.clearButton,\n                                    ...(clearHover ? styles.clearButtonHover : {}),\n                                    width: \"100%\",\n                                    marginTop: 16,\n                                }}\n                                onMouseEnter={() => setClearHover(true)}\n                                onMouseLeave={() => setClearHover(false)}\n                            >\n                                Clear Shape\n                            </button>\n                        </div>\n\n                        {/* Save to Job Button */}\n                        {area > 0 && !showSaveForm && (\n                            <button\n                                onClick={() => setShowSaveForm(true)}\n                                style={{\n                                    ...styles.saveButton,\n                                    ...(saveHover ? styles.saveButtonHover : {}),\n                                }}\n                                onMouseEnter={() => setSaveHover(true)}\n                                onMouseLeave={() => setSaveHover(false)}\n                            >\n                                 Save to Job\n                            </button>\n                        )}\n\n                        {/* Save Form */}\n                        {showSaveForm && (\n                            <div style={styles.saveForm}>\n                                <div style={{ fontSize: 16, fontWeight: 600, color: \"#234848\", marginBottom: 16 }}>\n                                    Save Area to Job\n                                </div>\n                                \n                                <div style={styles.formGroup}>\n                                    <label style={styles.label}>Area Name</label>\n                                    <input\n                                        type=\"text\"\n                                        value={areaName}\n                                        onChange={(e) => setAreaName(e.target.value)}\n                                        placeholder=\"e.g., Front Yard, Driveway\"\n                                        style={styles.input}\n                                    />\n                                </div>\n\n                                <div style={styles.formGroup}>\n                                    <label style={styles.label}>Customer</label>\n                                    <select\n                                        value={selectedCustomer}\n                                        onChange={(e) => handleCustomerChange(e.target.value)}\n                                        style={styles.select}\n                                    >\n                                        <option value=\"\">Select a customer</option>\n                                        {customers.map((customer) => (\n                                            <option key={customer.id} value={customer.id}>\n                                                {customer.name}\n                                            </option>\n                                        ))}\n                                    </select>\n                                </div>\n\n                                {selectedCustomer && (\n                                    <div style={styles.formGroup}>\n                                        <label style={styles.label}>Job</label>\n                                        <select\n                                            value={selectedJob}\n                                            onChange={(e) => setSelectedJob(e.target.value)}\n                                            style={styles.select}\n                                        >\n                                            <option value=\"\">Select a job</option>\n                                            {jobs.map((job) => (\n                                                <option key={job.id} value={job.id}>\n                                                    {job.name}\n                                                </option>\n                                            ))}\n                                        </select>\n                                    </div>\n                                )}\n\n                                <div style={{ display: \"flex\", gap: 8, marginTop: 16 }}>\n                                    <button\n                                        onClick={handleSaveArea}\n                                        style={{\n                                            ...styles.saveButton,\n                                            flex: 1,\n                                            padding: \"8px 16px\",\n                                        }}\n                                    >\n                                        Save\n                                    </button>\n                                    <button\n                                        onClick={() => {\n                                            setShowSaveForm(false);\n                                            setAreaName(\"\");\n                                            setSelectedCustomer(\"\");\n                                            setSelectedJob(\"\");\n                                        }}\n                                        style={{\n                                            ...styles.clearButton,\n                                            flex: 1,\n                                            padding: \"8px 16px\",\n                                        }}\n                                    >\n                                        Cancel\n                                    </button>\n                                </div>\n                            </div>\n                        )}\n                    </div>\n                </div>\n            </main>\n        </div>\n    );\n}\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}